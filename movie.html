<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyMovieBooking</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
    <script src="showMovie.js"></script>
    <script src="theatrelist.js"></script>
</head>

<body onload="loadmovie()">
    <header id="header">
        <!-- Load Header content-->
    </header>
    <div class="movie-page" >
       
        <div class="inputForm">
    
          
            Number of Seats : <input type="number" id="Numseats" min="1" max="144" required>
            <br/><br/>
            <button type="button" onclick="takeData()">Start Selecting</button>
        
          </div>
        
        <div class="book-view" id="movie-book">


        </div>
    </div>
   
    <script >  

    function getSeats(){
        let seats=document.getElementsByName("seats");
        let selectedSeats = [];
        for(let s of seats){
            if(s.checked) selectedSeats.push(s.value);
        }
        let noOfSeats = selectedSeats.length;
        console.log(selectedSeats);
    } 
        function loadmovie() {
            var showmovieobj = new ShowMovie();
            const queryString = window.location.search;
            const urlParams = new URLSearchParams(queryString);
            const id= urlParams.get('id');
            const val= urlParams.get('val');
            console.log(id);
            showmovieobj.movie(id,val);

            {
 // $(".book-view *").prop("disabled", true);
}
        }
        function takeData()
{
  if (( $("#Numseats").val().length == 0 ))
  {
  alert("Please Enter your Name and Number of Seats");
  }
  else
  {
    //$(".inputForm *").prop("disabled", true);
   // $(".book-view *").prop("disabled", false);
    document.getElementById("notification").innerHTML = "<b style='margin-bottom:0px;background:yellow;'>Please Select your Seats NOW!</b>";
  }
}

        function booknow() {
            alert("Successfully Booked");
            let seats=document.getElementsByName("seats");
        let selectedSeats = [];
        for(let s of seats){
            if(s.checked) selectedSeats.push(parseInt(s.value));
        }
        let noOfSeats = selectedSeats.length;
        console.log(selectedSeats);

        let ticket = {movieId:1, theatreId:101, seats: selectedSeats, createdBy:1, createdDate: new Date().toJSON()}
        //api/tickets (POST)

        //tickets: []
        }
 
    </script>
    <script>
        $("#header").load("header.html");
    </script>

</body>

</html>